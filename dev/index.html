<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ASEconvert.jl</title><meta name="title" content="Home · ASEconvert.jl"/><meta property="og:title" content="Home · ASEconvert.jl"/><meta property="twitter:title" content="Home · ASEconvert.jl"/><meta name="description" content="Documentation for ASEconvert.jl."/><meta property="og:description" content="Documentation for ASEconvert.jl."/><meta property="twitter:description" content="Documentation for ASEconvert.jl."/><meta property="og:url" content="https://mfherbst.github.io/ASEconvert.jl/"/><meta property="twitter:url" content="https://mfherbst.github.io/ASEconvert.jl/"/><link rel="canonical" href="https://mfherbst.github.io/ASEconvert.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>ASEconvert.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Automatic-ASE-installation"><span>Automatic ASE installation</span></a></li><li><a class="tocitem" href="#Conversion-from-ASE-to-AtomsBase"><span>Conversion from ASE to AtomsBase</span></a></li><li><a class="tocitem" href="#Conversion-from-AtomsBase-to-ASE"><span>Conversion from AtomsBase to ASE</span></a></li><li><a class="tocitem" href="#Employing-ASE-calculators-in-Julia"><span>Employing ASE calculators in Julia</span></a></li></ul></li><li><a class="tocitem" href="apireference/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mfherbst/ASEconvert.jl/blob/master/docs/src/index.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ASEconvert"><a class="docs-heading-anchor" href="#ASEconvert">ASEconvert</a><a id="ASEconvert-1"></a><a class="docs-heading-anchor-permalink" href="#ASEconvert" title="Permalink"></a></h1><p>Light-weight module to install the <a href="https://wiki.fysik.dtu.dk/ase/index.html">atomistic simulation environment (ASE)</a> and provide routines for cross-converting between ASE datastructures and the respective ones of the <a href="https://juliamolsim.org">JuliaMolSim</a> ecosystem. E.g. it allows to convert between the ASE Atoms and exposing them using an <a href="https://github.com/JuliaMolSim/AtomsBase.jl">AtomsBase</a> compatible interface or it allows to employ calculators from ASE as <a href="https://github.com/JuliaMolSim/AtomsCalculators.jl">AtomsCalculators</a>.</p><h2 id="Automatic-ASE-installation"><a class="docs-heading-anchor" href="#Automatic-ASE-installation">Automatic ASE installation</a><a id="Automatic-ASE-installation-1"></a><a class="docs-heading-anchor-permalink" href="#Automatic-ASE-installation" title="Permalink"></a></h2><p>Using the mechanism provided by <a href="https://github.com/cjdoris/PythonCall.jl">PythonCall</a> and <a href="https://github.com/cjdoris/CondaPkg.jl">CondaPkg</a> ASEconvert will automatically take care of installing ASE and exporting a useful subset of its modules under the <code>ase</code> variable. For example one may easily create bulk systems</p><pre><code class="language-julia hljs">using ASEconvert
ase.build.bulk(&quot;Mg&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Python: Atoms(symbols=&#39;Mg2&#39;, pbc=True, cell=[[3.21, 0.0, 0.0], [-1.605, 2.7799415461480477, 0.0], [0.0, 0.0, 5.21304]])</code></pre><p>or surfaces</p><pre><code class="language-julia hljs">using ASEconvert
ase.build.surface(ase.build.bulk(&quot;Mg&quot;), (1, 1, 0), 4, 0, periodic=true)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Python: Atoms(symbols=&#39;Mg8&#39;, pbc=True, cell=[5.559883092296095, 5.21304, 4.8149999999999995])</code></pre><h2 id="Conversion-from-ASE-to-AtomsBase"><a class="docs-heading-anchor" href="#Conversion-from-ASE-to-AtomsBase">Conversion from ASE to AtomsBase</a><a id="Conversion-from-ASE-to-AtomsBase-1"></a><a class="docs-heading-anchor-permalink" href="#Conversion-from-ASE-to-AtomsBase" title="Permalink"></a></h2><pre><code class="language-julia hljs">using ASEconvert

# Construct bulk magnesium using ASE and convert to atomsbase
mg_ase = ase.build.bulk(&quot;Mg&quot;)
mg_atb = pyconvert(AbstractSystem, mg_ase)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">FlexibleSystem(Mg₂, periodic = TTT):
    bounding_box      : [    3.21        0        0;
                           -1.605  2.77994        0;
                                0        0  5.21304]u&quot;Å&quot;

    Atom(Mg, [       0,        0,        0]u&quot;Å&quot;)
    Atom(Mg, [-8.86328e-17,  1.85329,  2.60652]u&quot;Å&quot;)

             
             
        Mg   
             
             
             
      Mg     
             
             
</code></pre><pre><code class="language-julia hljs">using DFTK

# Attach pseudopotentials, construct LDA DFT model and solve for DFT ground state
system = attach_psp(mg_atb; Mg=&quot;hgh/lda/mg-q2&quot;)
model  = model_LDA(system; temperature=1e-3, smearing=Smearing.MarzariVanderbilt())
basis  = PlaneWaveBasis(model; Ecut=20, kgrid=(4, 4, 4))
scfres = self_consistent_field(basis)

scfres.energies</code></pre><h2 id="Conversion-from-AtomsBase-to-ASE"><a class="docs-heading-anchor" href="#Conversion-from-AtomsBase-to-ASE">Conversion from AtomsBase to ASE</a><a id="Conversion-from-AtomsBase-to-ASE-1"></a><a class="docs-heading-anchor-permalink" href="#Conversion-from-AtomsBase-to-ASE" title="Permalink"></a></h2><pre><code class="language-julia hljs">using ASEconvert
using AtomsIO

# Read an extxyz file using AtomsIO.jl.
system = load_system(&quot;Mn3Si.extxyz&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Atoms(Mn₃Si, periodic = TTT):
    bounding_box      : [ 3.99987        0        0;
                          1.99993  3.46399        0;
                          1.99993  1.15466  3.26588]u&quot;Å&quot;
    spacegroup        : P 1
    occupancy         : _JSON {&quot;0&quot;: {&quot;Mn&quot;: 1}, &quot;1&quot;: {&quot;Mn&quot;: 1}, &quot;2&quot;: {&quot;Mn&quot;: 1}, &quot;3&quot;: {&quot;Si&quot;: 1}}
    unit_cell         : conventional

    AtomView(Mn, [ 1.99993,  1.15466,  0.81647]u&quot;Å&quot;)
    AtomView(Mn, [  5.9998,  3.46399,  2.44941]u&quot;Å&quot;)
    AtomView(Mn, [ 3.99987,  2.30933,  1.63294]u&quot;Å&quot;)
    AtomView(Si, [       0,        0,        0]u&quot;Å&quot;)

                              
                        Mn    
                              
                  Mn          
             Mn               
                              
       Si                     
                              
</code></pre><p>This example uses <a href="https://github.com/mfherbst/AtomsIO.jl">AtomsIO</a> to read the extended XYZ file file <code>Mn3Si.extxyz</code>. The data is returned as a subtype of <code>AtomsBase.AbstractSystem</code> (in this case an <code>ExtXYZ.Atoms</code> from <a href="https://github.com/libAtoms/ExtXYZ.jl">ExtXYZ</a>). We can thus directly convert this system to an <code>ase.Atoms</code> using <a href="apireference/#ASEconvert.convert_ase-Union{Tuple{AbstractSystem{D}}, Tuple{D}} where D"><code>convert_ase</code></a> and write it again as an ASE json file</p><pre><code class="language-julia hljs">ase.io.write(&quot;out.json&quot;, convert_ase(system));</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Python: None</code></pre><h2 id="Employing-ASE-calculators-in-Julia"><a class="docs-heading-anchor" href="#Employing-ASE-calculators-in-Julia">Employing ASE calculators in Julia</a><a id="Employing-ASE-calculators-in-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Employing-ASE-calculators-in-Julia" title="Permalink"></a></h2><pre><code class="language-julia hljs">using PythonCall
using ASEconvert

ase_emt = pyimport(&quot;ase.calculators.emt&quot;)
calculator = ASEcalculator(ase_emt.EMT())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ASEcalculator(&lt;py ase.calculators.emt.EMT object at 0x7f3a1ffc47d0&gt;)</code></pre><p>The above codeblock employs <a href="https://github.com/cjdoris/PythonCall.jl">PythonCall</a> to setup an <a href="https://wiki.fysik.dtu.dk/ase/ase/calculators/emt.html">EMT calculator</a> in ASE. Using the <a href="apireference/#ASEconvert.ASEcalculator"><code>ASEcalculator</code></a> wrapper this calculator is wrapped and now exposes a standard <a href="https://github.com/JuliaMolSim/AtomsCalculators.jl">AtomsCalculators</a>-compatible interface. For example one can use it to compute energy and forces of a copper supercell.</p><p>First we make the supercell:</p><pre><code class="language-julia hljs">using AtomsBuilder
system = bulk(:Cu) * (4, 3, 2)  # Make copper supercell</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">FlexibleSystem(Cu₂₄, periodic = TTT):
    bounding_box      : [       0     7.22     7.22;
                            5.415        0    5.415;
                             3.61     3.61        0]u&quot;Å&quot;

                                    
                                    
                                    
                           Cu       
                                    
                      Cu            
                       Cu           
                 Cu       Cu        
                   CuCu             
             Cu       Cu            
                Cu       Cu         
                 Cu                 
                    Cu              
            Cu       Cu             
               Cu       Cu          
                CuCu                
           Cu       Cu              
              Cu                    
               Cu                   
                                    
          Cu                        
                                    
                                    
                                    
</code></pre><p>Next we use the <code>energy_forces</code> function from <code>AtomsCalculators</code>:</p><pre><code class="language-julia hljs">using AtomsCalculators
AtomsCalculators.energy_forces(system, calculator)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(energy = -0.13635627260589267 eV, forces = StaticArraysCore.SVector{3, Unitful.Quantity{Float64, 𝐋 𝐌 𝐓^-2, Unitful.FreeUnits{(Å^-1, eV), 𝐋 𝐌 𝐓^-2, nothing}}}[[-6.8187062814389476e-15 eV Å^-1, 1.0179357357031904e-14 eV Å^-1, 1.05686776812103e-14 eV Å^-1], [2.0256562117108466e-15 eV Å^-1, -4.630718958243893e-15 eV Å^-1, -1.8972955836827935e-15 eV Å^-1], [7.111350447242914e-15 eV Å^-1, 7.757683384568281e-15 eV Å^-1, -3.8749502111662176e-15 eV Å^-1], [-5.127842594987442e-15 eV Å^-1, -9.372710940702689e-15 eV Å^-1, -7.153999614928352e-15 eV Å^-1], [1.6375789613221059e-15 eV Å^-1, 7.388187284185221e-15 eV Å^-1, 3.0513785942432037e-15 eV Å^-1], [2.42861286636753e-17 eV Å^-1, 2.0122792321330962e-16 eV Å^-1, -2.473715676742927e-15 eV Å^-1], [7.129713486264677e-15 eV Å^-1, 3.2248509418408844e-15 eV Å^-1, -9.386588728510503e-15 eV Å^-1], [-4.12864121812496e-16 eV Å^-1, -6.943356073473364e-15 eV Å^-1, 1.1258847061715359e-14 eV Å^-1], [9.558326352632207e-16 eV Å^-1, 4.5727310826748635e-15 eV Å^-1, 7.840950111415168e-16 eV Å^-1], [7.173081573164097e-15 eV Å^-1, 2.7998436902265667e-15 eV Å^-1, -8.815864704914134e-15 eV Å^-1]  …  [-4.401769234853726e-15 eV Å^-1, -6.017982742993408e-15 eV Å^-1, -3.730968031720174e-15 eV Å^-1], [5.127842594987442e-15 eV Å^-1, 1.3454515279676116e-14 eV Å^-1, -7.28583859910259e-15 eV Å^-1], [-5.5103006288040974e-15 eV Å^-1, 1.960968411408154e-15 eV Å^-1, -7.532379661141233e-17 eV Å^-1], [-4.51354529076018e-15 eV Å^-1, -6.303483032920232e-15 eV Å^-1, -2.987193825632062e-15 eV Å^-1], [5.339707769710608e-15 eV Å^-1, -4.0121183560676646e-15 eV Å^-1, -4.6150832594331706e-15 eV Å^-1], [-2.0678827099556048e-17 eV Å^-1, 6.1451096299425104e-15 eV Å^-1, 8.172043220277376e-15 eV Å^-1], [-4.465611908033296e-15 eV Å^-1, 2.033095913844818e-15 eV Å^-1, -6.316561856900549e-16 eV Å^-1], [-5.530298441414061e-15 eV Å^-1, -4.772657963281191e-16 eV Å^-1, -3.677613769070831e-15 eV Å^-1], [-4.8327227636368875e-15 eV Å^-1, -5.006195111234568e-15 eV Å^-1, 7.039507865513883e-15 eV Å^-1], [-3.8614944575243726e-15 eV Å^-1, 4.763550665032312e-15 eV Å^-1, -7.17134684968812e-15 eV Å^-1]])</code></pre></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="apireference/">API reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 18 November 2024 07:38">Monday 18 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
